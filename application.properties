# ======================
# Application
# ======================
spring.application.name=civic
server.port=${PORT:8080}  # Render injects PORT automatically

# ======================
# JWT (Auth)
# ======================
jwt.secret=${JWT_SECRET}
jwt.token.access.expiry=${JWT_ACCESS_EXPIRY:900000}       # default 15 min
jwt.token.refresh.expiry=${JWT_REFRESH_EXPIRY:604800000}  # default 7 days

# ======================
# Database (Postgres)
# ======================
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USER}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# ======================
# HikariCP (Connection Pool)
# ======================
spring.datasource.hikari.maximum-pool-size=${DB_POOL_MAX:10}
spring.datasource.hikari.minimum-idle=${DB_POOL_MIN:2}
spring.datasource.hikari.idle-timeout=${DB_IDLE_TIMEOUT:30000}
spring.datasource.hikari.max-lifetime=${DB_MAX_LIFETIME:1800000}

# ======================
# Twilio
# ======================
twilio.accountSid=${TWILIO_SID}
twilio.authToken=${TWILIO_TOKEN}
twilio.phoneNumber=${TWILIO_NUMBER}

# ======================
# Redis
# ======================
spring.data.redis.host=${REDIS_HOST}
spring.data.redis.port=${REDIS_PORT}
spring.data.redis.username=${REDIS_USER}
spring.data.redis.password=${REDIS_PASS}

# ======================
# AWS S3
# ======================
aws.s3.bucket-name=${AWS_BUCKET}
aws.s3.region=${AWS_REGION}
aws.access-key-id=${AWS_KEY}
aws.secret-access-key=${AWS_SECRET}

# ======================
# OTP & Limits
# ======================
auth.otp.duration=${OTP_DURATION:30000}        # 30 seconds
ip.otp.limit=${OTP_LIMIT:5}
ip.otp.limit.duration=${OTP_LIMIT_DURATION:10}
otp.cooldown=${OTP_COOLDOWN:30}

# ======================
# File Upload
# ======================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
